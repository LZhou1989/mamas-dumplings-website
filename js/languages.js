// Language translations for Mama's Dumplings website
const translations = {
    en: {
        // Navigation
        shop: "Shop",
        about: "About Us",
        contact: "Contact",
        account: "Account",
        howToCook: "How to Cook",
        
        // Header
        searchPlaceholder: "Search dumplings...",
        cart: "Cart",
        items: "items",
        
        // Main content
        welcomeTitle: "Authentic Chinese Dumplings",
        welcomeSubtitle: "Handcrafted with love, delivered to your door",
        orderNow: "Order Now",
        viewMenu: "View Menu",
        
        // Product categories
        allDumplings: "All Dumplings",
        dumplings: "Dumplings",
        wontons: "Wontons",
        desserts: "Desserts",
        
        // Product details
        addToCart: "Add to Cart",
        outOfStock: "Out of Stock",
        price: "Price",
        quantity: "Quantity",
        
        // Cart
        shoppingCart: "Shopping Cart",
        cartEmpty: "Your cart is empty",
        subtotal: "Subtotal",
        total: "Total",
        checkout: "Checkout",
        continueShopping: "Continue Shopping",
        remove: "Remove",
        
        // Checkout
        orderSummary: "Order Summary",
        customerInfo: "Customer Information",
        deliveryAddress: "Delivery Address",
        paymentMethod: "Payment Method",
        placeOrder: "Place Order",
        firstName: "First Name",
        lastName: "Last Name",
        email: "Email",
        phone: "Phone",
        address: "Address",
        city: "City",
        postalCode: "Postal Code",
        country: "Country",
        
        // About page
        ourStory: "Our Story",
        storyText: "Our journey began when Mama moved from China to Germany, bringing with her the authentic flavors and traditional recipes passed down through generations. In our kitchen, every dumpling is handcrafted with love, using only the finest ingredients and time-honored techniques.",
        storyText2: "Today, we're proud to share these authentic Chinese dumplings with our German community, offering a taste of home and tradition in every bite.",
        
        // Contact page
        contactUs: "Contact Us",
        getInTouch: "Get in Touch",
        sendMessage: "Send Message",
        name: "Name",
        subject: "Subject",
        message: "Message",
        businessHours: "Business Hours",
        address: "Address",
        phone: "Phone",
        email: "Email",
        
        // Footer
        followUs: "Follow Us",
        newsletter: "Sign up to our newsletter",
        subscribe: "Subscribe",
        copyright: "Â© 2024 Mama's Dumplings. All Rights Reserved.",
        
        // Account
        login: "Login",
        register: "Register",
        logout: "Logout",
        password: "Password",
        confirmPassword: "Confirm Password",
        forgotPassword: "Forgot Password?",
        alreadyHaveAccount: "Already have an account?",
        dontHaveAccount: "Don't have an account?",
        
        // Messages
        orderSuccess: "Order placed successfully!",
        itemAddedToCart: "Item added to cart!",
        thankYou: "Thank you!",
        error: "Error",
        success: "Success"
    },
    
    de: {
        // Navigation
        shop: "Shop",
        about: "Ãœber uns",
        contact: "Kontakt",
        account: "Konto",
        howToCook: "Zubereitung",
        
        // Header
        searchPlaceholder: "Dumplings suchen...",
        cart: "Warenkorb",
        items: "Artikel",
        
        // Main content
        welcomeTitle: "Authentische chinesische Dumplings",
        welcomeSubtitle: "Handgefertigt mit Liebe, geliefert an Ihre TÃ¼r",
        orderNow: "Jetzt bestellen",
        viewMenu: "MenÃ¼ ansehen",
        
        // Product categories
        allDumplings: "Alle Dumplings",
        dumplings: "Dumplings",
        wontons: "Wontons",
        desserts: "Desserts",
        
        // Product details
        addToCart: "In den Warenkorb",
        outOfStock: "Nicht auf Lager",
        price: "Preis",
        quantity: "Menge",
        
        // Cart
        shoppingCart: "Warenkorb",
        cartEmpty: "Ihr Warenkorb ist leer",
        subtotal: "Zwischensumme",
        total: "Gesamt",
        checkout: "Zur Kasse",
        continueShopping: "Weiter einkaufen",
        remove: "Entfernen",
        
        // Checkout
        orderSummary: "BestellÃ¼bersicht",
        customerInfo: "Kundeninformationen",
        deliveryAddress: "Lieferadresse",
        paymentMethod: "Zahlungsmethode",
        placeOrder: "Bestellung aufgeben",
        firstName: "Vorname",
        lastName: "Nachname",
        email: "E-Mail",
        phone: "Telefon",
        address: "Adresse",
        city: "Stadt",
        postalCode: "Postleitzahl",
        country: "Land",
        
        // About page
        ourStory: "Unsere Geschichte",
        storyText: "Unsere Reise begann, als Mama von China nach Deutschland zog und die authentischen Aromen und traditionellen Rezepte mitbrachte, die von Generation zu Generation weitergegeben wurden. In unserer KÃ¼che wird jedes Dumpling mit Liebe handgefertigt, nur mit den feinsten Zutaten und bewÃ¤hrten Techniken.",
        storyText2: "Heute sind wir stolz darauf, diese authentischen chinesischen Dumplings mit unserer deutschen Gemeinschaft zu teilen und bieten in jedem Bissen einen Geschmack von Zuhause und Tradition.",
        
        // Contact page
        contactUs: "Kontaktieren Sie uns",
        getInTouch: "Kontakt aufnehmen",
        sendMessage: "Nachricht senden",
        name: "Name",
        subject: "Betreff",
        message: "Nachricht",
        businessHours: "Ã–ffnungszeiten",
        address: "Adresse",
        phone: "Telefon",
        email: "E-Mail",
        
        // Footer
        followUs: "Folgen Sie uns",
        newsletter: "Anmeldung zum Newsletter",
        subscribe: "Abonnieren",
        copyright: "Â© 2024 Mama's Dumplings. Alle Rechte vorbehalten.",
        
        // Account
        login: "Anmelden",
        register: "Registrieren",
        logout: "Abmelden",
        password: "Passwort",
        confirmPassword: "Passwort bestÃ¤tigen",
        forgotPassword: "Passwort vergessen?",
        alreadyHaveAccount: "Haben Sie bereits ein Konto?",
        dontHaveAccount: "Haben Sie noch kein Konto?",
        
        // Messages
        orderSuccess: "Bestellung erfolgreich aufgegeben!",
        itemAddedToCart: "Artikel zum Warenkorb hinzugefÃ¼gt!",
        thankYou: "Vielen Dank!",
        error: "Fehler",
        success: "Erfolg"
    },
    
    zh: {
        // Navigation
        shop: "å•†åº—",
        about: "å…³äºŽæˆ‘ä»¬",
        contact: "è”ç³»æˆ‘ä»¬",
        account: "è´¦æˆ·",
        howToCook: "çƒ¹é¥ªæ–¹æ³•",
        
        // Header
        searchPlaceholder: "æœç´¢é¥ºå­...",
        cart: "è´­ç‰©è½¦",
        items: "ä»¶å•†å“",
        
        // Main content
        welcomeTitle: "æ­£å®—ä¸­å›½é¥ºå­",
        welcomeSubtitle: "ç”¨å¿ƒæ‰‹å·¥åˆ¶ä½œï¼Œé€è´§ä¸Šé—¨",
        orderNow: "ç«‹å³è®¢è´­",
        viewMenu: "æŸ¥çœ‹èœå•",
        
        // Product categories
        allDumplings: "æ‰€æœ‰é¥ºå­",
        dumplings: "é¥ºå­",
        wontons: "é¦„é¥¨",
        desserts: "ç”œç‚¹",
        
        // Product details
        addToCart: "åŠ å…¥è´­ç‰©è½¦",
        outOfStock: "ç¼ºè´§",
        price: "ä»·æ ¼",
        quantity: "æ•°é‡",
        
        // Cart
        shoppingCart: "è´­ç‰©è½¦",
        cartEmpty: "æ‚¨çš„è´­ç‰©è½¦æ˜¯ç©ºçš„",
        subtotal: "å°è®¡",
        total: "æ€»è®¡",
        checkout: "ç»“è´¦",
        continueShopping: "ç»§ç»­è´­ç‰©",
        remove: "ç§»é™¤",
        
        // Checkout
        orderSummary: "è®¢å•æ‘˜è¦",
        customerInfo: "å®¢æˆ·ä¿¡æ¯",
        deliveryAddress: "é€è´§åœ°å€",
        paymentMethod: "æ”¯ä»˜æ–¹å¼",
        placeOrder: "æäº¤è®¢å•",
        firstName: "åå­—",
        lastName: "å§“æ°",
        email: "é‚®ç®±",
        phone: "ç”µè¯",
        address: "åœ°å€",
        city: "åŸŽå¸‚",
        postalCode: "é‚®æ”¿ç¼–ç ",
        country: "å›½å®¶",
        
        // About page
        ourStory: "æˆ‘ä»¬çš„æ•…äº‹",
        storyText: "æˆ‘ä»¬çš„æ—…ç¨‹å§‹äºŽå¦ˆå¦ˆä»Žä¸­å›½æ¬åˆ°å¾·å›½ï¼Œå¸¦æ¥äº†ä»£ä»£ç›¸ä¼ çš„æ­£å®—é£Žå‘³å’Œä¼ ç»Ÿé£Ÿè°±ã€‚åœ¨æˆ‘ä»¬çš„åŽ¨æˆ¿é‡Œï¼Œæ¯ä¸ªé¥ºå­éƒ½æ˜¯ç”¨çˆ±æ‰‹å·¥åˆ¶ä½œçš„ï¼Œåªä½¿ç”¨æœ€ä¼˜è´¨çš„é£Ÿæå’Œç»è¿‡æ—¶é—´è€ƒéªŒçš„æŠ€æœ¯ã€‚",
        storyText2: "ä»Šå¤©ï¼Œæˆ‘ä»¬å¾ˆè‡ªè±ªèƒ½ä¸Žå¾·å›½ç¤¾åŒºåˆ†äº«è¿™äº›æ­£å®—çš„ä¸­å›½é¥ºå­ï¼Œåœ¨æ¯ä¸€å£ä¸­éƒ½æä¾›å®¶çš„å‘³é“å’Œä¼ ç»Ÿã€‚",
        
        // Contact page
        contactUs: "è”ç³»æˆ‘ä»¬",
        getInTouch: "å–å¾—è”ç³»",
        sendMessage: "å‘é€æ¶ˆæ¯",
        name: "å§“å",
        subject: "ä¸»é¢˜",
        message: "æ¶ˆæ¯",
        businessHours: "è¥ä¸šæ—¶é—´",
        address: "åœ°å€",
        phone: "ç”µè¯",
        email: "é‚®ç®±",
        
        // Footer
        followUs: "å…³æ³¨æˆ‘ä»¬",
        newsletter: "è®¢é˜…æˆ‘ä»¬çš„é€šè®¯",
        subscribe: "è®¢é˜…",
        copyright: "Â© 2024 å¦ˆå¦ˆçš„é¥ºå­. ä¿ç•™æ‰€æœ‰æƒåˆ©.",
        
        // Account
        login: "ç™»å½•",
        register: "æ³¨å†Œ",
        logout: "ç™»å‡º",
        password: "å¯†ç ",
        confirmPassword: "ç¡®è®¤å¯†ç ",
        forgotPassword: "å¿˜è®°å¯†ç ï¼Ÿ",
        alreadyHaveAccount: "å·²æœ‰è´¦æˆ·ï¼Ÿ",
        dontHaveAccount: "è¿˜æ²¡æœ‰è´¦æˆ·ï¼Ÿ",
        
        // Messages
        orderSuccess: "è®¢å•æäº¤æˆåŠŸï¼",
        itemAddedToCart: "å•†å“å·²åŠ å…¥è´­ç‰©è½¦ï¼",
        thankYou: "è°¢è°¢ï¼",
        error: "é”™è¯¯",
        success: "æˆåŠŸ"
    }
};

// Language management
class LanguageManager {
    constructor() {
        this.currentLanguage = localStorage.getItem('language') || 'en';
        this.init();
    }
    
    init() {
        this.updateLanguage(this.currentLanguage);
        this.createLanguageSwitcher();
    }
    
    updateLanguage(lang) {
        this.currentLanguage = lang;
        localStorage.setItem('language', lang);
        
        const elements = document.querySelectorAll('[data-translate]');
        elements.forEach(element => {
            const key = element.getAttribute('data-translate');
            if (translations[lang] && translations[lang][key]) {
                element.textContent = translations[lang][key];
            }
        });
        
        // Update placeholders
        const inputs = document.querySelectorAll('[data-translate-placeholder]');
        inputs.forEach(input => {
            const key = input.getAttribute('data-translate-placeholder');
            if (translations[lang] && translations[lang][key]) {
                input.placeholder = translations[lang][key];
            }
        });
        
        // Update page title
        const titleElement = document.querySelector('title');
        if (titleElement) {
            titleElement.textContent = translations[lang].welcomeTitle || 'Mama\'s Dumplings';
        }
        
        // Trigger custom event for other scripts
        document.dispatchEvent(new CustomEvent('languageChanged', { detail: { language: lang } }));
    }
    
    createLanguageSwitcher() {
        // Remove existing language switcher if any
        const existingSwitcher = document.getElementById('language-switcher');
        if (existingSwitcher) {
            existingSwitcher.remove();
        }
        
        const switcher = document.createElement('div');
        switcher.id = 'language-switcher';
        switcher.innerHTML = `
            <div class="language-switcher-container">
                <button class="language-btn ${this.currentLanguage === 'en' ? 'active' : ''}" data-lang="en">
                    ðŸ‡ºðŸ‡¸
                </button>
                <button class="language-btn ${this.currentLanguage === 'de' ? 'active' : ''}" data-lang="de">
                    ðŸ‡©ðŸ‡ª
                </button>
                <button class="language-btn ${this.currentLanguage === 'zh' ? 'active' : ''}" data-lang="zh">
                    ðŸ‡¨ðŸ‡³
                </button>
            </div>
        `;
        
        // Add event listeners
        switcher.addEventListener('click', (e) => {
            if (e.target.classList.contains('language-btn')) {
                const lang = e.target.getAttribute('data-lang');
                this.updateLanguage(lang);
                
                // Update active state
                switcher.querySelectorAll('.language-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                e.target.classList.add('active');
            }
        });
        
        // Add to footer
        const footer = document.querySelector('footer');
        if (footer) {
            footer.appendChild(switcher);
        }
        
        // Add styles
        this.addLanguageSwitcherStyles();
    }
    
    addLanguageSwitcherStyles() {
        const style = document.createElement('style');
        style.textContent = `
            #language-switcher {
                position: fixed;
                bottom: 20px;
                right: 20px;
                z-index: 1000;
            }
            
            .language-switcher-container {
                display: flex;
                gap: 5px;
                background: white;
                padding: 8px;
                border-radius: 25px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                border: 1px solid #e0e0e0;
            }
            
            .language-btn {
                background: none;
                border: none;
                font-size: 20px;
                cursor: pointer;
                padding: 5px;
                border-radius: 50%;
                transition: all 0.3s ease;
                width: 35px;
                height: 35px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .language-btn:hover {
                background: #f0f0f0;
                transform: scale(1.1);
            }
            
            .language-btn.active {
                background: #c34a36;
                color: white;
                transform: scale(1.1);
            }
            
            @media (max-width: 768px) {
                #language-switcher {
                    bottom: 15px;
                    right: 15px;
                }
                
                .language-switcher-container {
                    padding: 6px;
                }
                
                .language-btn {
                    font-size: 18px;
                    width: 30px;
                    height: 30px;
                }
            }
        `;
        
        if (!document.getElementById('language-switcher-styles')) {
            style.id = 'language-switcher-styles';
            document.head.appendChild(style);
        }
    }
    
    getText(key) {
        return translations[this.currentLanguage][key] || key;
    }
}

// Initialize language manager when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    window.languageManager = new LanguageManager();
});

// Export for use in other scripts
window.translations = translations; 