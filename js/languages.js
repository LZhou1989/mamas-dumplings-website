// Language translations for Mama's Dumplings website
const translations = {
    en: {
        // Navigation
        shop: "Shop",
        about: "About Us",
        contact: "Contact",
        account: "Account",
        howToCook: "How to Cook",
        
        // Header
        searchPlaceholder: "Search dumplings...",
        cart: "Cart",
        items: "items",
        
        // Main content
        welcomeTitle: "Authentic Chinese Dumplings",
        welcomeSubtitle: "Handcrafted with love, delivered to your door",
        orderNow: "Order Now",
        viewMenu: "View Menu",
        
        // Product categories
        allDumplings: "All Dumplings",
        dumplings: "Dumplings",
        wontons: "Wontons",
        desserts: "Desserts",
        
        // Product details
        addToCart: "Add to Cart",
        outOfStock: "Out of Stock",
        price: "Price",
        quantity: "Quantity",
        
        // Cart
        shoppingCart: "Shopping Cart",
        cartEmpty: "Your cart is empty",
        subtotal: "Subtotal",
        total: "Total",
        checkout: "Checkout",
        continueShopping: "Continue Shopping",
        remove: "Remove",
        
        // Checkout
        orderSummary: "Order Summary",
        customerInfo: "Customer Information",
        deliveryAddress: "Delivery Address",
        paymentMethod: "Payment Method",
        placeOrder: "Place Order",
        firstName: "First Name",
        lastName: "Last Name",
        email: "Email",
        phone: "Phone",
        address: "Address",
        city: "City",
        postalCode: "Postal Code",
        country: "Country",
        
        // About page
        ourStory: "Our Story",
        storyText: "Our journey began when Mama moved from China to Germany, bringing with her the authentic flavors and traditional recipes passed down through generations. In our kitchen, every dumpling is handcrafted with love, using only the finest ingredients and time-honored techniques.",
        storyText2: "Today, we're proud to share these authentic Chinese dumplings with our German community, offering a taste of home and tradition in every bite.",
        
        // Contact page
        contactUs: "Contact Us",
        getInTouch: "Get in Touch",
        sendMessage: "Send Message",
        name: "Name",
        subject: "Subject",
        message: "Message",
        businessHours: "Business Hours",
        address: "Address",
        phone: "Phone",
        email: "Email",
        
        // Footer
        followUs: "Follow Us",
        newsletter: "Sign up to our newsletter",
        subscribe: "Subscribe",
        copyright: "© 2024 Mama's Dumplings. All Rights Reserved.",
        
        // Account
        login: "Login",
        register: "Register",
        logout: "Logout",
        password: "Password",
        confirmPassword: "Confirm Password",
        forgotPassword: "Forgot Password?",
        alreadyHaveAccount: "Already have an account?",
        dontHaveAccount: "Don't have an account?",
        
        // Messages
        orderSuccess: "Order placed successfully!",
        itemAddedToCart: "Item added to cart!",
        thankYou: "Thank you!",
        error: "Error",
        success: "Success"
    },
    
    de: {
        // Navigation
        shop: "Shop",
        about: "Über uns",
        contact: "Kontakt",
        account: "Konto",
        howToCook: "Zubereitung",
        
        // Header
        searchPlaceholder: "Dumplings suchen...",
        cart: "Warenkorb",
        items: "Artikel",
        
        // Main content
        welcomeTitle: "Authentische chinesische Dumplings",
        welcomeSubtitle: "Handgefertigt mit Liebe, geliefert an Ihre Tür",
        orderNow: "Jetzt bestellen",
        viewMenu: "Menü ansehen",
        
        // Product categories
        allDumplings: "Alle Dumplings",
        dumplings: "Dumplings",
        wontons: "Wontons",
        desserts: "Desserts",
        
        // Product details
        addToCart: "In den Warenkorb",
        outOfStock: "Nicht auf Lager",
        price: "Preis",
        quantity: "Menge",
        
        // Cart
        shoppingCart: "Warenkorb",
        cartEmpty: "Ihr Warenkorb ist leer",
        subtotal: "Zwischensumme",
        total: "Gesamt",
        checkout: "Zur Kasse",
        continueShopping: "Weiter einkaufen",
        remove: "Entfernen",
        
        // Checkout
        orderSummary: "Bestellübersicht",
        customerInfo: "Kundeninformationen",
        deliveryAddress: "Lieferadresse",
        paymentMethod: "Zahlungsmethode",
        placeOrder: "Bestellung aufgeben",
        firstName: "Vorname",
        lastName: "Nachname",
        email: "E-Mail",
        phone: "Telefon",
        address: "Adresse",
        city: "Stadt",
        postalCode: "Postleitzahl",
        country: "Land",
        
        // About page
        ourStory: "Unsere Geschichte",
        storyText: "Unsere Reise begann, als Mama von China nach Deutschland zog und die authentischen Aromen und traditionellen Rezepte mitbrachte, die von Generation zu Generation weitergegeben wurden. In unserer Küche wird jedes Dumpling mit Liebe handgefertigt, nur mit den feinsten Zutaten und bewährten Techniken.",
        storyText2: "Heute sind wir stolz darauf, diese authentischen chinesischen Dumplings mit unserer deutschen Gemeinschaft zu teilen und bieten in jedem Bissen einen Geschmack von Zuhause und Tradition.",
        
        // Contact page
        contactUs: "Kontaktieren Sie uns",
        getInTouch: "Kontakt aufnehmen",
        sendMessage: "Nachricht senden",
        name: "Name",
        subject: "Betreff",
        message: "Nachricht",
        businessHours: "Öffnungszeiten",
        address: "Adresse",
        phone: "Telefon",
        email: "E-Mail",
        
        // Footer
        followUs: "Folgen Sie uns",
        newsletter: "Anmeldung zum Newsletter",
        subscribe: "Abonnieren",
        copyright: "© 2024 Mama's Dumplings. Alle Rechte vorbehalten.",
        
        // Account
        login: "Anmelden",
        register: "Registrieren",
        logout: "Abmelden",
        password: "Passwort",
        confirmPassword: "Passwort bestätigen",
        forgotPassword: "Passwort vergessen?",
        alreadyHaveAccount: "Haben Sie bereits ein Konto?",
        dontHaveAccount: "Haben Sie noch kein Konto?",
        
        // Messages
        orderSuccess: "Bestellung erfolgreich aufgegeben!",
        itemAddedToCart: "Artikel zum Warenkorb hinzugefügt!",
        thankYou: "Vielen Dank!",
        error: "Fehler",
        success: "Erfolg"
    },
    
    zh: {
        // Navigation
        shop: "商店",
        about: "关于我们",
        contact: "联系我们",
        account: "账户",
        howToCook: "烹饪方法",
        
        // Header
        searchPlaceholder: "搜索饺子...",
        cart: "购物车",
        items: "件商品",
        
        // Main content
        welcomeTitle: "正宗中国饺子",
        welcomeSubtitle: "用心手工制作，送货上门",
        orderNow: "立即订购",
        viewMenu: "查看菜单",
        
        // Product categories
        allDumplings: "所有饺子",
        dumplings: "饺子",
        wontons: "馄饨",
        desserts: "甜点",
        
        // Product details
        addToCart: "加入购物车",
        outOfStock: "缺货",
        price: "价格",
        quantity: "数量",
        
        // Cart
        shoppingCart: "购物车",
        cartEmpty: "您的购物车是空的",
        subtotal: "小计",
        total: "总计",
        checkout: "结账",
        continueShopping: "继续购物",
        remove: "移除",
        
        // Checkout
        orderSummary: "订单摘要",
        customerInfo: "客户信息",
        deliveryAddress: "送货地址",
        paymentMethod: "支付方式",
        placeOrder: "提交订单",
        firstName: "名字",
        lastName: "姓氏",
        email: "邮箱",
        phone: "电话",
        address: "地址",
        city: "城市",
        postalCode: "邮政编码",
        country: "国家",
        
        // About page
        ourStory: "我们的故事",
        storyText: "我们的旅程始于妈妈从中国搬到德国，带来了代代相传的正宗风味和传统食谱。在我们的厨房里，每个饺子都是用爱手工制作的，只使用最优质的食材和经过时间考验的技术。",
        storyText2: "今天，我们很自豪能与德国社区分享这些正宗的中国饺子，在每一口中都提供家的味道和传统。",
        
        // Contact page
        contactUs: "联系我们",
        getInTouch: "取得联系",
        sendMessage: "发送消息",
        name: "姓名",
        subject: "主题",
        message: "消息",
        businessHours: "营业时间",
        address: "地址",
        phone: "电话",
        email: "邮箱",
        
        // Footer
        followUs: "关注我们",
        newsletter: "订阅我们的通讯",
        subscribe: "订阅",
        copyright: "© 2024 妈妈的饺子. 保留所有权利.",
        
        // Account
        login: "登录",
        register: "注册",
        logout: "登出",
        password: "密码",
        confirmPassword: "确认密码",
        forgotPassword: "忘记密码？",
        alreadyHaveAccount: "已有账户？",
        dontHaveAccount: "还没有账户？",
        
        // Messages
        orderSuccess: "订单提交成功！",
        itemAddedToCart: "商品已加入购物车！",
        thankYou: "谢谢！",
        error: "错误",
        success: "成功"
    }
};

// Language management
class LanguageManager {
    constructor() {
        this.currentLanguage = localStorage.getItem('language') || 'en';
        this.init();
    }
    
    init() {
        this.updateLanguage(this.currentLanguage);
        this.createLanguageSwitcher();
    }
    
    updateLanguage(lang) {
        this.currentLanguage = lang;
        localStorage.setItem('language', lang);
        
        const elements = document.querySelectorAll('[data-translate]');
        elements.forEach(element => {
            const key = element.getAttribute('data-translate');
            if (translations[lang] && translations[lang][key]) {
                element.textContent = translations[lang][key];
            }
        });
        
        // Update placeholders
        const inputs = document.querySelectorAll('[data-translate-placeholder]');
        inputs.forEach(input => {
            const key = input.getAttribute('data-translate-placeholder');
            if (translations[lang] && translations[lang][key]) {
                input.placeholder = translations[lang][key];
            }
        });
        
        // Update page title
        const titleElement = document.querySelector('title');
        if (titleElement) {
            titleElement.textContent = translations[lang].welcomeTitle || 'Mama\'s Dumplings';
        }
        
        // Trigger custom event for other scripts
        document.dispatchEvent(new CustomEvent('languageChanged', { detail: { language: lang } }));
    }
    
    createLanguageSwitcher() {
        // Remove existing language switcher if any
        const existingSwitcher = document.getElementById('language-switcher');
        if (existingSwitcher) {
            existingSwitcher.remove();
        }
        
        const switcher = document.createElement('div');
        switcher.id = 'language-switcher';
        switcher.innerHTML = `
            <div class="language-switcher-container">
                <button class="language-btn ${this.currentLanguage === 'en' ? 'active' : ''}" data-lang="en">
                    🇺🇸
                </button>
                <button class="language-btn ${this.currentLanguage === 'de' ? 'active' : ''}" data-lang="de">
                    🇩🇪
                </button>
                <button class="language-btn ${this.currentLanguage === 'zh' ? 'active' : ''}" data-lang="zh">
                    🇨🇳
                </button>
            </div>
        `;
        
        // Add event listeners
        switcher.addEventListener('click', (e) => {
            if (e.target.classList.contains('language-btn')) {
                const lang = e.target.getAttribute('data-lang');
                this.updateLanguage(lang);
                
                // Update active state
                switcher.querySelectorAll('.language-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                e.target.classList.add('active');
            }
        });
        
        // Add to footer
        const footer = document.querySelector('footer');
        if (footer) {
            footer.appendChild(switcher);
        }
        
        // Add styles
        this.addLanguageSwitcherStyles();
    }
    
    addLanguageSwitcherStyles() {
        const style = document.createElement('style');
        style.textContent = `
            #language-switcher {
                position: fixed;
                bottom: 20px;
                right: 20px;
                z-index: 1000;
            }
            
            .language-switcher-container {
                display: flex;
                gap: 5px;
                background: white;
                padding: 8px;
                border-radius: 25px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                border: 1px solid #e0e0e0;
            }
            
            .language-btn {
                background: none;
                border: none;
                font-size: 20px;
                cursor: pointer;
                padding: 5px;
                border-radius: 50%;
                transition: all 0.3s ease;
                width: 35px;
                height: 35px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .language-btn:hover {
                background: #f0f0f0;
                transform: scale(1.1);
            }
            
            .language-btn.active {
                background: #c34a36;
                color: white;
                transform: scale(1.1);
            }
            
            @media (max-width: 768px) {
                #language-switcher {
                    bottom: 15px;
                    right: 15px;
                }
                
                .language-switcher-container {
                    padding: 6px;
                }
                
                .language-btn {
                    font-size: 18px;
                    width: 30px;
                    height: 30px;
                }
            }
        `;
        
        if (!document.getElementById('language-switcher-styles')) {
            style.id = 'language-switcher-styles';
            document.head.appendChild(style);
        }
    }
    
    getText(key) {
        return translations[this.currentLanguage][key] || key;
    }
}

// Initialize language manager when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    window.languageManager = new LanguageManager();
});

// Export for use in other scripts
window.translations = translations; 